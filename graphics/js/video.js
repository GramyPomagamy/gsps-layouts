(()=>{var e,t={1200:(e,t,r)=>{"use strict";r(4079);var n=r(2529),o=r(5803),i=r(5925);r(4807),r(7023),r(5654),r(779),r(8793);var c,a=r(2727),u=r(5612),s=r(3415),p=(c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},c(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};const f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.formatPlayers=function(e){return e.teams.map((function(e){return e.name||e.players.map((function(e){return e.name})).join(", ")})).join(" vs. ")||"Bez gracza"},l([s.aD],t.prototype,"activeRun",void 0),l([i.ZP],t)}(o.Z);var v=r(5440);const d=(0,v.Z)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"next-run-container"}},[e.activeRun.game?r("span",[r("b",[e._v(e._s(e.activeRun.game))])]):e._e(),e._v(" "),r("span",[e.activeRun.category?[e._v(e._s(e.activeRun.category)+" /")]:e._e(),e._v(" "),e.activeRun.estimate?[e._v("EST: "+e._s(e.activeRun.estimate)+" /")]:e._e(),e._v(" "),e.activeRun.system?[e._v(e._s(e.activeRun.system)+" /")]:e._e(),e._v(" "),e.activeRun.teams.length>0?[e._v(e._s(e.formatPlayers(e.activeRun)))]:e._e()],2)])}),[],!1,null,"c828b230",null).exports;var y=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),b=function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};const h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.config=nodecg.bundleConfig.obs,t.sceneName=t.config.scenes.video,t}return y(t,e),t.prototype.onOBSDataChanged=function(e){var t=this;this.$nextTick((function(){e.scene===t.sceneName&&t.playNextVideo()}))},t.prototype.playNextVideo=function(){return e=this,t=void 0,n=function(){var e;return function(e,t){var r,n,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(t){return(e=this.videos[Math.floor(Math.random()*this.videos.length)])?(this.video=e,this.playerSrc.src=e.url,this.playerSrc.type="video/".concat(e.ext.toLowerCase().replace(".","")),this.player.volume=.5,this.player.load(),this.player.play()):(console.error("Coś się popsuło i nie było mnie słychać, więc spróbuję jeszcze raz..."),this.playNextVideo()),[2]}))},new((r=Promise)||(r=Promise))((function(o,i){function c(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,a)}u((n=n.apply(e,t||[])).next())}));var e,t,r,n},t.prototype.videoEnded=function(){nodecg.sendMessage("videoPlayerFinished")},t.prototype.mounted=function(){this.player.addEventListener("ended",this.videoEnded)},b([s.aD],t.prototype,"activeRun",void 0),b([s.aD],t.prototype,"videos",void 0),b([s.aD],t.prototype,"obsData",void 0),b([s.aD],t.prototype,"currentEvent",void 0),b([(0,a.R)("VideoPlayer")],t.prototype,"player",void 0),b([(0,a.R)("PlayerSource")],t.prototype,"playerSrc",void 0),b([(0,u.R)("obsData")],t.prototype,"onOBSDataChanged",null),b([(0,i.ZP)({components:{VideoNextRun:d}})],t)}(o.Z),g=(0,v.Z)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container"}},[n("img",{attrs:{id:"Background",src:r(7272)("./"+(e.currentEvent.toLowerCase()||"default")+"/video_bg.png")}}),e._v(" "),n("video",{ref:"VideoPlayer",attrs:{id:"player"}},[n("source",{ref:"PlayerSource"})]),e._v(" "),e.activeRun?n("div",{attrs:{id:"nextRunInfo"}},[e._m(0),e._v(" "),n("video-next-run")],1):e._e()])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nextRunLabel"}},[r("b",[e._v("NADCHODZĄCY RUN")])])}],!1,null,null,null).exports;var _=r(8586),m=r(4170),O=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();o.Z.use(_.ZP);var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),Object.defineProperty(t.prototype,"reps",{get:function(){return this.context.rootState.ReplicantModule.reps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeRun",{get:function(){return this.reps.activeRunReplicant},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videos",{get:function(){return this.reps.videos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"obsData",{get:function(){return this.reps.obsData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentEvent",{get:function(){return this.reps.currentEvent},enumerable:!1,configurable:!0}),function(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c}([(0,m.Yl)({name:"OurModule"})],t)}(m.g4),R=new _.yh({strict:!1,state:{},modules:{ReplicantModule:n.np,OurModule:w}});const j=R;(0,m.rT)(w,R),(0,n.rl)(j).then((function(){new o.Z({store:j,el:"#App",render:function(e){return e(g)}})}))},779:(e,t,r)=>{"use strict";"undefined"!=typeof Reflect&&Reflect.getMetadata},7272:(e,t,r)=>{var n={"./default/video_bg.png":4801,"./gsps17/video_bg.png":5126,"./gsps18/video_bg.png":7637,"./zgsps18/video_bg.png":819};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=7272},4801:(e,t,r)=>{"use strict";e.exports=r.p+"img/video_bg-18cbb5d80540bd0160bd.png"},5126:(e,t,r)=>{"use strict";e.exports=r.p+"img/video_bg-2efd3718bc89ee2a83ec.png"},7637:(e,t,r)=>{"use strict";e.exports=r.p+"img/video_bg-7869fe8df2be30923d6f.png"},819:(e,t,r)=>{"use strict";e.exports=r.p+"img/video_bg-042b8f081429471d7b04.png"}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var c=1/0;for(p=0;p<e.length;p++){for(var[r,o,i]=e[p],a=!0,u=0;u<r.length;u++)(!1&i||c>=i)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(a=!1,i<c&&(c=i));if(a){e.splice(p--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{var e={791:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[c,a,u]=r,s=0;if(c.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(u)var p=u(n)}for(t&&t(r);s<c.length;s++)i=c[s],n.o(e,i)&&e[i]&&e[i][0](),e[c[s]]=0;return n.O(p)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[473,654],(()=>n(1200)));o=n.O(o)})();