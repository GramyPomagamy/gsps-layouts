(()=>{var e,t={4927:(e,t,n)=>{"use strict";var r=n(2529),o=n(5803),s=n(5925);n(4807),n(7023),n(5654),n(779),n(8793);var c,i=n(3415),a=(c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var o,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(s<3?o(c):s>3?o(t,n,c):o(t,n))||c);return s>3&&c&&Object.defineProperty(t,n,c),c};const u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.data=function(){return{clock:""}},t.prototype.getClock=function(){var e=new Date,t=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2);this.$data.clock=t+":"+n},t.prototype.mounted=function(){var e=this;this.getClock(),setInterval((function(){e.getClock()}),5e3)},l([i.aD],t.prototype,"currentEvent",void 0),l([s.ZP],t)}(o.Z);var p=n(5440);const d=(0,p.Z)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"currentTimeDiv",event:e.currentEvent}},[n("span",{attrs:{id:"currentTime"}},[e._v(e._s(e.clock))])])}),[],!1,null,"35cd011c",null).exports,f={name:"TickerGenericMessage",props:{data:{type:Object,default:()=>({msg:"",size:28,time:25})}},computed:{cssProps(){return{"--font-size":`${this.normalisedData.size}px`}},normalisedData(){return{size:30,time:20,...this.data}}},mounted(){console.log("GenericMessage: mounted"),setTimeout((()=>{this.$emit("end"),console.log("GenericMessage: ended")}),1e3*this.normalisedData.time)}},g=(0,p.Z)(f,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"Flex",style:e.cssProps,attrs:{id:"GenericMessage"},domProps:{innerHTML:e._s(e.normalisedData.msg)}})}),[],!1,null,"907da08a",null).exports;var m=n(4902);const v=nodecg.Replicant("currentEvent"),h={name:"TickerLabel",props:["label"],data:()=>({currentEvent:""}),mounted(){v.on("change",(e=>{this.$data.currentEvent=e})),m.ZP.fromTo("#label",{clipPath:"inset(0 100% 0 0)"},{clipPath:"inset(0 0% 0 0)",duration:.5})}},y=(0,p.Z)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"label",event:e.currentEvent}},[n("div",{attrs:{id:"label-text"}},[n("span",{domProps:{innerHTML:e._s(e.label)}})])])}),[],!1,null,"2173b998",null).exports;var b=n(8138),_=n.n(b);const O=nodecg.Replicant("runDataActiveRun","nodecg-speedcontrol"),x=nodecg.Replicant("runDataArray","nodecg-speedcontrol"),w=nodecg.Replicant("obsData"),P=nodecg.bundleConfig.obs,R=nodecg.Replicant("currentEvent"),E={name:"TickerNextRuns",components:{TickerLabel:y},data:()=>({nextRuns:[],currentEvent:""}),mounted(){if(console.log("NextRuns: mounted"),this.nextRuns=this.getNextRuns(),R.on("change",(e=>{this.currentEvent=e})),this.nextRuns.length){const e=()=>{const e=document.querySelectorAll(".run"),t=[].slice.call(e),n=m.ZP.timeline({delay:1});t.forEach((e=>{n.to(e,{opacity:1,translateX:"-5px",duration:.3})})),n.play()};setTimeout((()=>{e()}),50),setTimeout((()=>{this.$emit("end"),console.log("NextRuns: ended")}),1e4)}else this.$emit("end"),console.log("NextRuns: ended")},methods:{formatPlayers:e=>e.teams.map((e=>e.name||e.players.map((e=>e.name)).join(", "))).join(" vs. ")||"Bez gracza",getNextRuns(){const e=this.findRunIndex();return w.value.scene&&w.value.scene===P.scenes.video?_()(x.value).slice(e).slice(0,4):_()(x.value).slice(e+1).slice(0,4)},findRunIndex:()=>O.value?_()(x.value).findIndex((e=>e.id===O.value.id)):-1}},j=(0,p.Z)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"nextRuns"}},[n("ticker-label",{attrs:{label:"NASTĘPNIE"}}),e._v(" "),e._l(e.nextRuns,(function(t,r){return n("div",{key:t.id,staticClass:"run",class:{"next-run":e.nextRuns[0].id===t.id},attrs:{event:e.currentEvent}},[n("span",{staticStyle:{"font-weight":"700"}},[e._v(e._s(t.game)+"\n      "),t.category&&t.category.length?[e._v("("+e._s(t.category)+")")]:e._e()],2),e._v(" "),n("br"),e._v(" "),n("span",[e._v(e._s(e.formatPlayers(t)))])])}))],2)}),[],!1,null,"1437d2bc",null).exports,k=nodecg.Replicant("runDataArray","nodecg-speedcontrol"),C=nodecg.Replicant("runDataActiveRun","nodecg-speedcontrol"),T={name:"OmnibarTicker",data:()=>({currentComponent:{name:"",data:{}},currentComponentIndex:0,timestamp:Date.now(),messageTypes:[]}),mounted(){NodeCG.waitForReplicants(k,C).then((()=>{this.messageTypes=[this.gspsPromo(),this.charityPromo(),this.donationURL(),this.storePromo(),this.nextRuns()],this.currentComponent=this.messageTypes[0]}))},methods:{showNextMsg(){console.log("SHOWING NEXT MESSAGE"),this.currentComponentIndex+=1,this.currentComponentIndex>=this.messageTypes.length&&(this.currentComponentIndex=0),this.currentComponent=this.messageTypes[this.currentComponentIndex],this.timestamp=Date.now()},gspsPromo(){return this.genericMsg('Oglądacie&nbsp;<b style="color: #ffbd16">Gramy Szybko, Pomagamy Skutecznie Classic</b>!')},charityPromo(){return this.genericMsg('<b style="color: #ffbd16">GSPS Classic</b>&nbsp;zbiera na&nbsp;<b style="color: #ffbd16">organizację przyszłych eventów</b>!')},donationURL(){return this.genericMsg('Możecie nas wesprzeć na&nbsp;<b style="color: #ffbd16">gsps.pl/fundacja</b>!')},storePromo(){return this.genericMsg('Na&nbsp;<b style="color: #ffbd16">gsps.pl/sklep</b>&nbsp;możecie kupić gadżety związane z tym eventem!')},genericMsg:e=>({name:g,data:{msg:e}}),nextRuns:()=>({name:j})}},M=(0,p.Z)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"Ticker"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n(e.currentComponent.name,{key:e.timestamp,tag:"component",attrs:{data:e.currentComponent.data},on:{end:e.showNextMsg}})],1)],1)}),[],!1,null,"a885462a",null).exports;var D=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e,t,n,r){var o,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(s<3?o(c):s>3?o(t,n,c):o(t,n))||c);return s>3&&c&&Object.defineProperty(t,n,c),c};const z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),S([i.aD],t.prototype,"currentEvent",void 0),S([(0,s.ZP)({components:{OmnibarClock:d,OmnibarTicker:M}})],t)}(o.Z),N=(0,p.Z)(z,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"Flex",attrs:{id:"Omnibar"}},[r("img",{attrs:{id:"BG",src:n(8271)("./"+(e.currentEvent.toLowerCase()||"default")+".png")}}),e._v(" "),r("img",{attrs:{id:"Logo",event:e.currentEvent,src:n(7475)}}),e._v(" "),r("div",{attrs:{id:"Body"}},[r("omnibar-ticker")],1),e._v(" "),r("omnibar-clock",{staticClass:"OmnibarClock"})],1)}),[],!1,null,null,null).exports;var Z=n(8586),$=n(4170),A=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();o.Z.use(Z.ZP);var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),Object.defineProperty(t.prototype,"reps",{get:function(){return this.context.rootState.ReplicantModule.reps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentEvent",{get:function(){return this.reps.currentEvent},enumerable:!1,configurable:!0}),function(e,t,n,r){var o,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(s<3?o(c):s>3?o(t,n,c):o(t,n))||c);return s>3&&c&&Object.defineProperty(t,n,c),c}([(0,$.Yl)({name:"OurModule"})],t)}($.g4),I=new Z.yh({strict:!1,state:{},modules:{ReplicantModule:r.np,OurModule:G}});const L=I;(0,$.rT)(G,I),(0,r.rl)(L).then((function(){new o.Z({store:L,el:"#App",render:function(e){return e(N)}})}))},779:(e,t,n)=>{"use strict";"undefined"!=typeof Reflect&&Reflect.getMetadata},8271:(e,t,n)=>{var r={"./default.png":9620,"./gsps17.png":4837,"./gsps18.png":4974,"./zgsps18.png":8763};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=8271},7475:(e,t,n)=>{"use strict";e.exports=n.p+"img/GSPS_PNG-dac06152ee4d6227bddc.png"},9620:(e,t,n)=>{"use strict";e.exports=n.p+"img/default-e04e08480901b1914770.png"},4837:(e,t,n)=>{"use strict";e.exports=n.p+"img/gsps17-c352b1bbc3455ae72f79.png"},4974:(e,t,n)=>{"use strict";e.exports=n.p+"img/gsps18-29f52905a748bb57235e.png"},8763:(e,t,n)=>{"use strict";e.exports=n.p+"img/zgsps18-8cff51373e9851b36415.png"}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,n,o,s)=>{if(!n){var c=1/0;for(u=0;u<e.length;u++){for(var[n,o,s]=e[u],i=!0,a=0;a<n.length;a++)(!1&s||c>=s)&&Object.keys(r.O).every((e=>r.O[e](n[a])))?n.splice(a--,1):(i=!1,s<c&&(c=s));if(i){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,o,s]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../"})(),(()=>{var e={128:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,s,[c,i,a]=n,l=0;if(c.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(a)var u=a(r)}for(t&&t(n);l<c.length;l++)s=c[l],r.o(e,s)&&e[s]&&e[s][0](),e[c[l]]=0;return r.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[473,902],(()=>r(4927)));o=r.O(o)})();